// Generated by Chef for <%= node['fqdn'] %>
// Local modifications will be overwritten.
// This is the ACL file to use by bind
<% if !node[:bind9][:channle][:include].nil? %>
	<% node[:bind9][:channle][:include].keys.each do |include|  %>	
include "<%=  node[:bind9][:channle][:include][include] %>";
	<%end%>
<%end%>

<% if node[:bind9][:channle] %>
	<% node[:bind9][:channle].keys.each do |channle| %>
		<% if channle != "include"%>
<%= channle %> {
		<% node[:bind9][:channle][channle].keys.each do |channlenum| %>
		inet <%= node[:bind9][:channle][channle][channlenum][:inet] %> port <%= !node[:bind9][:channle][channle][channlenum][:port].nil? ? node[:bind9][:channle][channle][channlenum][:port] : '8123' %> allow {"<%= !node[:bind9][:channle][channle][channlenum][:allow].nil? ?   node[:bind9][:channle][channle][channlenum][:allow] : '127.0.0.1' %>";} <% if !node[:bind9][:channle][channle][channlenum][:keys].nil? %> keys {"<%= node[:bind9][:channle][channle][channlenum][:keys] %>";} <% end %>;
		<% end %>
};
	<% end %>
  <% end %>
 <% end %>